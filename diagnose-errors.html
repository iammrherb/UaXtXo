<!DOCTYPE html>
<html>
<head>
    <title>Error Diagnostics</title>
    <style>
        body { font-family: monospace; padding: 20px; background: #1a1a1a; color: #fff; }
        .success { color: #4CAF50; }
        .error { color: #f44336; }
        .warning { color: #ff9800; }
        .info { color: #2196F3; }
        pre { background: #2a2a2a; padding: 10px; border-radius: 5px; overflow-x: auto; }
        button { padding: 10px 20px; margin: 5px; cursor: pointer; }
    </style>
</head>
<body>
    <h1>Platform Error Diagnostics</h1>
    
    <div id="diagnostics"></div>
    
    <h2>Actions:</h2>
    <button onclick="loadScript('js/views/ultimate-executive-platform.js')">Test Load Ultimate Executive Platform</button>
    <button onclick="checkSyntax()">Check Syntax Errors</button>
    <button onclick="forceInit()">Force Initialize</button>
    
    <h2>Console Output:</h2>
    <pre id="console-output"></pre>
    
    <script>
        const output = document.getElementById('console-output');
        const diagnostics = document.getElementById('diagnostics');
        
        // Capture console logs
        const originalLog = console.log;
        const originalError = console.error;
        
        console.log = function(...args) {
            originalLog.apply(console, args);
            output.innerHTML += '<span class="info">[LOG] ' + args.join(' ') + '</span>\n';
        };
        
        console.error = function(...args) {
            originalError.apply(console, args);
            output.innerHTML += '<span class="error">[ERROR] ' + args.join(' ') + '</span>\n';
        };
        
        function loadScript(src) {
            output.innerHTML += `\n<span class="warning">Loading ${src}...</span>\n`;
            const script = document.createElement('script');
            script.src = src + '?t=' + Date.now();
            script.onload = () => output.innerHTML += `<span class="success">✅ ${src} loaded successfully</span>\n`;
            script.onerror = (e) => output.innerHTML += `<span class="error">❌ ${src} failed to load: ${e}</span>\n`;
            document.head.appendChild(script);
        }
        
        function checkSyntax() {
            const checks = [
                { name: 'UltimateExecutiveView class', test: () => typeof UltimateExecutiveView !== 'undefined' },
                { name: 'ultimateExecutiveView instance', test: () => window.ultimateExecutiveView !== undefined },
                { name: 'Comprehensive Industries', test: () => window.comprehensiveIndustries !== undefined },
                { name: 'Comprehensive Compliance', test: () => window.comprehensiveCompliance !== undefined },
                { name: 'AI Insights Engine', test: () => window.aiInsightsEngine !== undefined }
            ];
            
            let html = '<h3>Component Status:</h3><ul>';
            checks.forEach(check => {
                const passed = check.test();
                html += `<li class="${passed ? 'success' : 'error'}">${passed ? '✅' : '❌'} ${check.name}</li>`;
            });
            html += '</ul>';
            
            diagnostics.innerHTML = html;
        }
        
        function forceInit() {
            output.innerHTML += '\n<span class="warning">Attempting force initialization...</span>\n';
            
            // Load all required scripts in order
            const scripts = [
                'js/enhancements/comprehensive-data-enhancement.js',
                'js/views/ultimate-executive-platform.js',
                'js/features/ai-insights.js',
                'js/backup-init.js'
            ];
            
            let index = 0;
            function loadNext() {
                if (index < scripts.length) {
                    loadScript(scripts[index]);
                    index++;
                    setTimeout(loadNext, 1000);
                } else {
                    output.innerHTML += '<span class="success">All scripts loaded, checking status...</span>\n';
                    setTimeout(checkSyntax, 1000);
                }
            }
            
            loadNext();
        }
        
        // Initial check
        setTimeout(checkSyntax, 1000);
    </script>
</body>
</html>
