document.addEventListener("DOMContentLoaded",function(){console.log("Initializing sidebar manager fix...");setTimeout(fixSidebarManager,500)});function fixSidebarManager(){const sidebarToggle=document.querySelector(".sidebar-toggle");const sidebar=document.getElementById("sidebar");const contentArea=document.querySelector(".content-area");if(!sidebarToggle||!sidebar||!contentArea){console.warn("Sidebar elements not found, cannot fix toggle");return}const newSidebarToggle=sidebarToggle.cloneNode(true);sidebarToggle.parentNode.replaceChild(newSidebarToggle,sidebarToggle);newSidebarToggle.addEventListener("click",function(e){e.preventDefault();e.stopPropagation();console.log("Toggling sidebar");sidebar.classList.toggle("collapsed");newSidebarToggle.classList.toggle("collapsed");contentArea.classList.toggle("expanded")});const configCards=document.querySelectorAll(".config-card");configCards.forEach(card=>{const header=card.querySelector(".config-card-header");const content=card.querySelector(".config-card-content");const toggleIcon=header?.querySelector(".toggle-icon");if(!header||!content)return;const newHeader=header.cloneNode(true);header.parentNode.replaceChild(newHeader,header);newHeader.addEventListener("click",function(e){e.preventDefault();e.stopPropagation();if(card.id==="cost-config"){return}console.log(`Toggling section ${card.id}`);if(content.classList.contains("collapsed")){content.classList.remove("collapsed");const newToggleIcon=newHeader.querySelector(".toggle-icon");if(newToggleIcon)newToggleIcon.classList.remove("collapsed");const contentHeight=content.scrollHeight;content.style.maxHeight="0px";content.offsetHeight;content.style.maxHeight=`${contentHeight}px`;setTimeout(()=>{content.style.maxHeight=""},300)}else{const contentHeight=content.scrollHeight;content.style.maxHeight=`${contentHeight}px`;content.offsetHeight;content.style.maxHeight="0px";setTimeout(()=>{content.classList.add("collapsed");const newToggleIcon=newHeader.querySelector(".toggle-icon");if(newToggleIcon)newToggleIcon.classList.add("collapsed")},300)}})});const vendorCards=document.querySelectorAll(".vendor-select-card");vendorCards.forEach(card=>{if(card.dataset.vendor==="portnox")return;const newCard=card.cloneNode(true);card.parentNode.replaceChild(newCard,card);newCard.addEventListener("click",function(e){e.preventDefault();e.stopPropagation();newCard.classList.toggle("selected");console.log(`Toggled vendor ${newCard.dataset.vendor}`);if(window.sidebarManager&&typeof window.sidebarManager.toggleVendorSelection==="function"){window.sidebarManager.toggleVendorSelection(newCard.dataset.vendor,newCard)}})});console.log("Sidebar manager fixes applied")}