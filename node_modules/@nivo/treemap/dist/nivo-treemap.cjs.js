"use strict";var e=require("react"),t=require("@nivo/core"),o=require("lodash/omit.js"),n=require("lodash/cloneDeep.js"),i=require("lodash/startCase.js"),a=require("d3-hierarchy"),r=require("@nivo/theming"),l=require("@nivo/colors"),d=require("@nivo/tooltip"),s=require("@react-spring/web"),u=require("@nivo/text"),b=require("react/jsx-runtime");function p(){return p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)({}).hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e},p.apply(null,arguments)}function c(e,t){if(null==e)return{};var o={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;o[n]=e[n]}return o}var v=function(e,t){return s.to([e,t],(function(e,t){return"translate("+e+","+t+")"}))},h=function(e,t){return s.to([e,t],(function(e,t){return"translate("+e+"px, "+t+"px)"}))},f=function(e,t,o){return s.to([e,t,o],(function(e,t,o){return"translate("+e+","+t+") rotate("+o+")"}))},m=function(e,t,o){return s.to([e,t,o],(function(e,t,o){return"translate("+e+"px,"+t+"px) rotate("+o+"deg)"}))},g=function(e,t,o){return s.to([e,t,o],(function(e,t,o){return"translate("+(e-(0===o?0:5))+"px,"+(t-(0===o?5:0))+"px) rotate("+o+"deg)"}))},L=e.memo((function(e){var t=e.node,o=e.animatedProps,n=e.borderWidth,i=e.enableLabel,a=e.enableParentLabel,l=e.labelSkipSize,d=r.useTheme(),c=i&&t.isLeaf&&(0===l||Math.min(t.width,t.height)>l),h=a&&t.isParent;return b.jsxs(s.animated.g,{transform:v(o.x,o.y),children:[b.jsx(s.animated.rect,{"data-testid":"node."+t.id,width:s.to(o.width,(function(e){return Math.max(e,0)})),height:s.to(o.height,(function(e){return Math.max(e,0)})),fill:t.fill?t.fill:o.color,strokeWidth:n,stroke:t.borderColor,fillOpacity:t.opacity,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseLeave:t.onMouseLeave,onClick:t.onClick}),c&&b.jsx(u.Text,{"data-testid":"label."+t.id,textAnchor:"middle",dominantBaseline:"central",style:p({},d.labels.text,{fill:t.labelTextColor,pointerEvents:"none"}),fillOpacity:o.labelOpacity,transform:f(o.labelX,o.labelY,o.labelRotation),children:t.label}),h&&b.jsx(u.Text,{"data-testid":"parentLabel."+t.id,dominantBaseline:"central",style:p({},d.labels.text,{fill:t.parentLabelTextColor,pointerEvents:"none"}),fillOpacity:o.parentLabelOpacity,transform:f(o.parentLabelX,o.parentLabelY,o.parentLabelRotation),children:t.parentLabel})]})})),y=e.memo((function(e){var t=e.node;return b.jsx(d.BasicTooltip,{id:t.id,value:t.formattedValue,enableChip:!0,color:t.color})})),x=e.memo((function(e){var t=e.node,o=e.animatedProps,n=e.borderWidth,i=e.enableLabel,a=e.enableParentLabel,l=e.labelSkipSize,d=r.useTheme(),u=i&&t.isLeaf&&(0===l||Math.min(t.width,t.height)>l),c=a&&t.isParent;return b.jsxs(s.animated.div,{"data-testid":"node."+t.id,id:t.path.replace(/[^\w]/gi,"-"),style:{boxSizing:"border-box",position:"absolute",top:0,left:0,transform:h(o.x,o.y),width:o.width,height:o.height,borderWidth:n,borderStyle:"solid",borderColor:t.borderColor,overflow:"hidden"},children:[b.jsx(s.animated.div,{style:{boxSizing:"border-box",position:"absolute",top:0,left:0,opacity:t.opacity,width:o.width,height:o.height,background:o.color},onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseLeave:t.onMouseLeave,onClick:t.onClick}),u&&b.jsx(s.animated.span,{"data-testid":"label."+t.id,style:p({},d.labels.text,{position:"absolute",display:"flex",top:-5,left:-5,width:10,height:10,justifyContent:"center",alignItems:"center",whiteSpace:"nowrap",color:t.labelTextColor,transformOrigin:"center center",transform:m(o.labelX,o.labelY,o.labelRotation),opacity:o.labelOpacity,pointerEvents:"none"}),children:t.label}),c&&b.jsx(s.animated.span,{"data-testid":"parentLabel."+t.id,style:p({},d.labels.text,{position:"absolute",display:"flex",justifyContent:"flex-start",alignItems:"center",whiteSpace:"nowrap",width:10,height:10,color:t.parentLabelTextColor,transformOrigin:"top left",transform:g(o.parentLabelX,o.parentLabelY,o.parentLabelRotation),opacity:o.parentLabelOpacity,pointerEvents:"none"}),children:t.parentLabel})]})})),C={layers:["nodes"],identity:"id",value:"value",tile:"squarify",leavesOnly:!1,innerPadding:0,outerPadding:0,colors:{scheme:"nivo"},colorBy:"pathComponents.1",nodeOpacity:.33,enableLabel:!0,label:"formattedValue",labelSkipSize:0,labelTextColor:{from:"color",modifiers:[["darker",1]]},orientLabel:!0,enableParentLabel:!0,parentLabel:"id",parentLabelSize:20,parentLabelPosition:"top",parentLabelPadding:6,parentLabelTextColor:{from:"color",modifiers:[["darker",1]]},borderWidth:1,borderColor:{from:"color",modifiers:[["darker",1]]},isInteractive:!0,tooltip:y,role:"img",animate:!0,motionConfig:"gentle"},P=p({},C,{nodeComponent:L,defs:[],fill:[]}),M=p({},C,{nodeComponent:x}),w=p({},C,{pixelRatio:"undefined"!=typeof window&&window.devicePixelRatio||1}),R={binary:a.treemapBinary,dice:a.treemapDice,slice:a.treemapSlice,sliceDice:a.treemapSliceDice,squarify:a.treemapSquarify},T=function(d){var s=d.data,u=d.width,b=d.height,c=d.identity,v=void 0===c?C.identity:c,h=d.value,f=void 0===h?C.value:h,m=d.valueFormat,g=d.leavesOnly,L=void 0===g?C.leavesOnly:g,y=d.tile,x=void 0===y?C.tile:y,P=d.innerPadding,M=void 0===P?C.innerPadding:P,w=d.outerPadding,T=void 0===w?C.outerPadding:w,S=d.label,k=void 0===S?C.label:S,O=d.orientLabel,z=void 0===O?C.orientLabel:O,W=d.enableParentLabel,j=void 0===W?C.enableParentLabel:W,I=d.parentLabel,E=void 0===I?C.parentLabel:I,B=d.parentLabelSize,H=void 0===B?C.parentLabelSize:B,D=d.parentLabelPosition,q=void 0===D?C.parentLabelPosition:D,F=d.parentLabelPadding,X=void 0===F?C.parentLabelPadding:F,Y=d.colors,A=void 0===Y?C.colors:Y,V=d.colorBy,N=void 0===V?C.colorBy:V,G=d.nodeOpacity,J=void 0===G?C.nodeOpacity:G,K=d.borderColor,Q=void 0===K?C.borderColor:K,U=d.labelTextColor,Z=void 0===U?C.labelTextColor:U,$=d.parentLabelTextColor,_=void 0===$?C.parentLabelTextColor:$,ee=t.usePropertyAccessor(v),te=t.usePropertyAccessor(f),oe=t.useValueFormatter(m),ne=t.usePropertyAccessor(k),ie=t.usePropertyAccessor(E),ae=function(t){var o=t.width,n=t.height,r=t.tile,l=t.innerPadding,d=t.outerPadding,s=t.enableParentLabel,u=t.parentLabelSize,b=t.parentLabelPosition,p=t.leavesOnly;return e.useMemo((function(){var e=a.treemap().size([o,n]).tile(R[r]).round(!0).paddingInner(l).paddingOuter(d);if(s&&!p){var t=u+2*d;e["padding"+i(b)](t)}return e}),[o,n,r,l,d,s,u,b,p])}({width:u,height:b,tile:x,innerPadding:M,outerPadding:T,enableParentLabel:j,parentLabelSize:H,parentLabelPosition:q,leavesOnly:L}),re=function(t){var o=t.root,n=t.getValue;return e.useMemo((function(){return a.hierarchy(o).sum(n)}),[o,n])}({root:s,getValue:te}),le=e.useMemo((function(){var e=n(re);return ae(e),L?e.leaves():e.descendants()}),[re,ae,L]),de=e.useMemo((function(){return le.map((function(e){var t=function(e,t){var o=e.ancestors().map((function(e){return t(e.data)})).reverse();return{path:o.join("."),pathComponents:o}}(e,ee),n=t.path,i=t.pathComponents,a={id:ee(e.data),path:n,pathComponents:i,data:o(e.data,"children"),x:e.x0,y:e.y0,width:e.x1-e.x0,height:e.y1-e.y0,value:e.value,formattedValue:oe(e.value),treeDepth:e.depth,treeHeight:e.height,isParent:e.height>0,isLeaf:0===e.height,parentLabelX:0,parentLabelY:0,parentLabelRotation:0};return a.labelRotation=z&&a.height>a.width?-90:0,"top"===q&&(a.parentLabelX=T+X,a.parentLabelY=T+H/2),"right"===q&&(a.parentLabelX=a.width-T-H/2,a.parentLabelY=a.height-T-X,a.parentLabelRotation=-90),"bottom"===q&&(a.parentLabelX=T+X,a.parentLabelY=a.height-T-H/2),"left"===q&&(a.parentLabelX=T+H/2,a.parentLabelY=a.height-T-X,a.parentLabelRotation=-90),a.label=ne(a),a.parentLabel=ie(a),a}))}),[le,ee,oe,ne,z,ie,H,q,X,T]),se=r.useTheme(),ue=l.useOrdinalColorScale(A,N),be=l.useInheritedColor(Q,se),pe=l.useInheritedColor(Z,se),ce=l.useInheritedColor(_,se),ve=e.useMemo((function(){return de.map((function(e){var t=p({},e,{color:ue(e),opacity:J});return t.borderColor=be(t),t.labelTextColor=pe(t),t.parentLabelTextColor=ce(t),t}))}),[de,ue,J,be,pe,ce]);return{hierarchy:re,nodes:ve,layout:ae}},S=function(t,o){var n=o.isInteractive,i=o.onMouseEnter,a=o.onMouseMove,r=o.onMouseLeave,l=o.onClick,s=o.tooltip,u=d.useTooltip(),b=u.showTooltipFromEvent,c=u.hideTooltip,v=e.useCallback((function(t,o){b(e.createElement(s,{node:t}),o,"left")}),[b,s]),h=e.useCallback((function(e,t){v(e,t),null==i||i(e,t)}),[i,v]),f=e.useCallback((function(e,t){v(e,t),null==a||a(e,t)}),[a,v]),m=e.useCallback((function(e,t){c(),null==r||r(e,t)}),[r,c]),g=e.useCallback((function(e,t){null==l||l(e,t)}),[l]);return e.useMemo((function(){return t.map((function(e){return n?p({},e,{onMouseEnter:function(t){return h(e,t)},onMouseMove:function(t){return f(e,t)},onMouseLeave:function(t){return m(e,t)},onClick:function(t){return g(e,t)}}):e}))}),[n,t,h,f,m,g])},k=function(t){var o=t.nodes;return e.useMemo((function(){return{nodes:o}}),[o])},O=function(e){return{x:e.x,y:e.y,width:e.width,height:e.height,color:e.color,labelX:e.width/2,labelY:e.height/2,labelRotation:e.labelRotation,labelOpacity:1,parentLabelX:e.parentLabelX,parentLabelY:e.parentLabelY,parentLabelRotation:e.parentLabelRotation,parentLabelOpacity:1}},z=function(e){return{x:e.x+e.width/2,y:e.y+e.height/2,width:0,height:0,color:e.color,labelX:0,labelY:0,labelRotation:e.labelRotation,labelOpacity:0,parentLabelX:0,parentLabelY:0,parentLabelRotation:e.parentLabelRotation,parentLabelOpacity:0}},W=e.memo((function(o){var n=o.nodes,i=o.nodeComponent,a=o.borderWidth,r=o.enableLabel,l=o.labelSkipSize,d=o.enableParentLabel,u=o.isInteractive,p=o.onMouseEnter,c=o.onMouseMove,v=o.onMouseLeave,h=o.onClick,f=o.tooltip,m=S(n,{isInteractive:u,onMouseEnter:p,onMouseMove:c,onMouseLeave:v,onClick:h,tooltip:f}),g=t.useMotionConfig(),L=g.animate,y=g.config,x=s.useTransition(m,{keys:function(e){return e.path},initial:O,from:z,enter:O,update:O,leave:z,config:y,immediate:!L});return b.jsx(b.Fragment,{children:x((function(t,o){return e.createElement(i,{key:o.path,node:o,animatedProps:t,borderWidth:a,enableLabel:r,labelSkipSize:l,enableParentLabel:d})}))})})),j=["isInteractive","animate","motionConfig","theme","renderWrapper"],I=function(o){var n=o.data,i=o.identity,a=void 0===i?P.identity:i,r=o.value,l=void 0===r?P.value:r,d=o.valueFormat,s=o.tile,u=void 0===s?P.tile:s,p=o.nodeComponent,c=void 0===p?P.nodeComponent:p,v=o.innerPadding,h=void 0===v?P.innerPadding:v,f=o.outerPadding,m=void 0===f?P.outerPadding:f,g=o.leavesOnly,L=void 0===g?P.leavesOnly:g,y=o.width,x=o.height,C=o.margin,M=o.layers,w=void 0===M?P.layers:M,R=o.colors,S=void 0===R?P.colors:R,O=o.colorBy,z=void 0===O?P.colorBy:O,j=o.nodeOpacity,I=void 0===j?P.nodeOpacity:j,E=o.borderWidth,B=void 0===E?P.borderWidth:E,H=o.borderColor,D=void 0===H?P.borderColor:H,q=o.defs,F=void 0===q?P.defs:q,X=o.fill,Y=void 0===X?P.fill:X,A=o.enableLabel,V=void 0===A?P.enableLabel:A,N=o.label,G=void 0===N?P.label:N,J=o.labelTextColor,K=void 0===J?P.labelTextColor:J,Q=o.orientLabel,U=void 0===Q?P.orientLabel:Q,Z=o.labelSkipSize,$=void 0===Z?P.labelSkipSize:Z,_=o.enableParentLabel,ee=void 0===_?P.enableParentLabel:_,te=o.parentLabel,oe=void 0===te?P.parentLabel:te,ne=o.parentLabelSize,ie=void 0===ne?P.parentLabelSize:ne,ae=o.parentLabelPosition,re=void 0===ae?P.parentLabelPosition:ae,le=o.parentLabelPadding,de=void 0===le?P.parentLabelPadding:le,se=o.parentLabelTextColor,ue=void 0===se?P.parentLabelTextColor:se,be=o.isInteractive,pe=void 0===be?P.isInteractive:be,ce=o.onMouseEnter,ve=o.onMouseMove,he=o.onMouseLeave,fe=o.onClick,me=o.tooltip,ge=void 0===me?P.tooltip:me,Le=o.role,ye=o.ariaLabel,xe=o.ariaLabelledBy,Ce=o.ariaDescribedBy,Pe=o.forwardedRef,Me=t.useDimensions(y,x,C),we=Me.margin,Re=Me.innerWidth,Te=Me.innerHeight,Se=Me.outerWidth,ke=Me.outerHeight,Oe=T({data:n,identity:a,value:l,valueFormat:d,leavesOnly:L,width:Re,height:Te,tile:u,innerPadding:h,outerPadding:m,colors:S,colorBy:z,nodeOpacity:I,borderColor:D,label:G,labelTextColor:K,orientLabel:U,enableParentLabel:ee,parentLabel:oe,parentLabelSize:ie,parentLabelPosition:re,parentLabelPadding:de,parentLabelTextColor:ue}).nodes,ze={nodes:null};w.includes("nodes")&&(ze.nodes=b.jsx(W,{nodes:Oe,nodeComponent:c,borderWidth:B,enableLabel:V,labelSkipSize:$,enableParentLabel:ee,isInteractive:pe,onMouseEnter:ce,onMouseMove:ve,onMouseLeave:he,onClick:fe,tooltip:ge},"nodes"));var We=k({nodes:Oe}),je=t.bindDefs(F,Oe,Y);return b.jsx(t.SvgWrapper,{width:Se,height:ke,margin:we,defs:je,role:Le,ariaLabel:ye,ariaLabelledBy:xe,ariaDescribedBy:Ce,ref:Pe,children:w.map((function(t,o){var n;return"function"==typeof t?b.jsx(e.Fragment,{children:e.createElement(t,We)},o):null!=(n=null==ze?void 0:ze[t])?n:null}))})},E=e.forwardRef((function(e,o){var n=e.isInteractive,i=void 0===n?P.isInteractive:n,a=e.animate,r=void 0===a?P.animate:a,l=e.motionConfig,d=void 0===l?P.motionConfig:l,s=e.theme,u=e.renderWrapper,v=c(e,j);return b.jsx(t.Container,{animate:r,isInteractive:i,motionConfig:d,renderWrapper:u,theme:s,children:b.jsx(I,p({},v,{isInteractive:i,forwardedRef:o}))})})),B=["defaultWidth","defaultHeight","onResize","debounceResize"],H=e.forwardRef((function(e,o){var n=e.defaultWidth,i=e.defaultHeight,a=e.onResize,r=e.debounceResize,l=c(e,B);return b.jsx(t.ResponsiveWrapper,{defaultWidth:n,defaultHeight:i,onResize:a,debounceResize:r,children:function(e){var t=e.width,n=e.height;return b.jsx(E,p({},l,{width:t,height:n,ref:o}))}})})),D=["isInteractive","animate","motionConfig","theme","renderWrapper"],q=function(o){var n=o.data,i=o.identity,a=void 0===i?M.identity:i,r=o.value,l=void 0===r?M.value:r,d=o.tile,s=void 0===d?M.tile:d,u=o.nodeComponent,p=void 0===u?M.nodeComponent:u,c=o.valueFormat,v=o.innerPadding,h=void 0===v?M.innerPadding:v,f=o.outerPadding,m=void 0===f?M.outerPadding:f,g=o.leavesOnly,L=void 0===g?M.leavesOnly:g,y=o.width,x=o.height,C=o.margin,w=o.layers,R=void 0===w?P.layers:w,S=o.colors,O=void 0===S?M.colors:S,z=o.colorBy,j=void 0===z?M.colorBy:z,I=o.nodeOpacity,E=void 0===I?M.nodeOpacity:I,B=o.borderWidth,H=void 0===B?M.borderWidth:B,D=o.borderColor,q=void 0===D?M.borderColor:D,F=o.enableLabel,X=void 0===F?M.enableLabel:F,Y=o.label,A=void 0===Y?M.label:Y,V=o.labelTextColor,N=void 0===V?M.labelTextColor:V,G=o.orientLabel,J=void 0===G?M.orientLabel:G,K=o.labelSkipSize,Q=void 0===K?M.labelSkipSize:K,U=o.enableParentLabel,Z=void 0===U?M.enableParentLabel:U,$=o.parentLabel,_=void 0===$?M.parentLabel:$,ee=o.parentLabelSize,te=void 0===ee?M.parentLabelSize:ee,oe=o.parentLabelPosition,ne=void 0===oe?M.parentLabelPosition:oe,ie=o.parentLabelPadding,ae=void 0===ie?M.parentLabelPadding:ie,re=o.parentLabelTextColor,le=void 0===re?M.parentLabelTextColor:re,de=o.isInteractive,se=void 0===de?M.isInteractive:de,ue=o.onMouseEnter,be=o.onMouseMove,pe=o.onMouseLeave,ce=o.onClick,ve=o.tooltip,he=void 0===ve?M.tooltip:ve,fe=o.role,me=o.ariaLabel,ge=o.ariaLabelledBy,Le=o.ariaDescribedBy,ye=o.forwardedRef,xe=t.useDimensions(y,x,C),Ce=xe.margin,Pe=xe.innerWidth,Me=xe.innerHeight,we=xe.outerWidth,Re=xe.outerHeight,Te=T({data:n,identity:a,value:l,valueFormat:c,leavesOnly:L,width:Pe,height:Me,tile:s,innerPadding:h,outerPadding:m,colors:O,colorBy:j,nodeOpacity:E,borderColor:q,label:A,labelTextColor:N,orientLabel:J,enableParentLabel:Z,parentLabel:_,parentLabelSize:te,parentLabelPosition:ne,parentLabelPadding:ae,parentLabelTextColor:le}).nodes,Se={nodes:null};R.includes("nodes")&&(Se.nodes=b.jsx(W,{nodes:Te,nodeComponent:p,borderWidth:H,enableLabel:X,labelSkipSize:Q,enableParentLabel:Z,isInteractive:se,onMouseEnter:ue,onMouseMove:be,onMouseLeave:pe,onClick:ce,tooltip:he},"nodes"));var ke=k({nodes:Te});return b.jsx("div",{role:fe,"aria-label":me,"aria-labelledby":ge,"aria-describedby":Le,style:{position:"relative",width:we,height:Re},ref:ye,children:b.jsx("div",{style:{position:"absolute",top:Ce.top,left:Ce.left},children:R.map((function(t,o){var n;return"function"==typeof t?b.jsx(e.Fragment,{children:e.createElement(t,ke)},o):null!=(n=null==Se?void 0:Se[t])?n:null}))})})},F=e.forwardRef((function(e,o){var n=e.isInteractive,i=void 0===n?M.isInteractive:n,a=e.animate,r=void 0===a?M.animate:a,l=e.motionConfig,d=void 0===l?M.motionConfig:l,s=e.theme,u=e.renderWrapper,v=c(e,D);return b.jsx(t.Container,{animate:r,isInteractive:i,motionConfig:d,renderWrapper:u,theme:s,children:b.jsx(q,p({},v,{isInteractive:i,forwardedRef:o}))})})),X=["defaultWidth","defaultHeight","onResize","debounceResize"],Y=e.forwardRef((function(e,o){var n=e.defaultWidth,i=e.defaultHeight,a=e.onResize,r=e.debounceResize,l=c(e,X);return b.jsx(t.ResponsiveWrapper,{defaultWidth:n,defaultHeight:i,onResize:a,debounceResize:r,children:function(e){var t=e.width,n=e.height;return b.jsx(F,p({},l,{width:t,height:n,ref:o}))}})})),A=["theme","isInteractive","animate","motionConfig","renderWrapper"],V=function(e,o,n,i){return e.find((function(e){return t.isCursorInRect(e.x+o.left,e.y+o.top,e.width,e.height,n,i)}))},N=function(o){var n=o.data,i=o.identity,a=void 0===i?w.identity:i,l=o.value,s=void 0===l?w.identity:l,c=o.tile,v=void 0===c?w.tile:c,h=o.valueFormat,f=o.innerPadding,m=void 0===f?w.innerPadding:f,g=o.outerPadding,L=void 0===g?w.outerPadding:g,y=o.leavesOnly,x=void 0===y?w.leavesOnly:y,C=o.width,P=o.height,M=o.margin,R=o.colors,S=void 0===R?w.colors:R,k=o.colorBy,O=void 0===k?w.colorBy:k,z=o.nodeOpacity,W=void 0===z?w.nodeOpacity:z,j=o.borderWidth,I=void 0===j?w.borderWidth:j,E=o.borderColor,B=void 0===E?w.borderColor:E,H=o.enableLabel,D=void 0===H?w.enableLabel:H,q=o.label,F=void 0===q?w.label:q,X=o.labelTextColor,Y=void 0===X?w.labelTextColor:X,A=o.orientLabel,N=void 0===A?w.orientLabel:A,G=o.labelSkipSize,J=void 0===G?w.labelSkipSize:G,K=o.isInteractive,Q=void 0===K?w.isInteractive:K,U=o.onMouseMove,Z=o.onClick,$=o.tooltip,_=void 0===$?w.tooltip:$,ee=o.pixelRatio,te=void 0===ee?w.pixelRatio:ee,oe=o.role,ne=o.ariaLabel,ie=o.ariaLabelledBy,ae=o.ariaDescribedBy,re=o.forwardedRef,le=e.useRef(null),de=t.useDimensions(C,P,M),se=de.margin,ue=de.innerWidth,be=de.innerHeight,pe=de.outerWidth,ce=de.outerHeight,ve=T({data:n,identity:a,value:s,valueFormat:h,leavesOnly:x,width:ue,height:be,tile:v,innerPadding:m,outerPadding:L,colors:S,colorBy:O,nodeOpacity:W,borderColor:B,label:F,labelTextColor:Y,orientLabel:N,enableParentLabel:!1}).nodes,he=r.useTheme();e.useEffect((function(){if(null!==le.current){var e=le.current.getContext("2d");null!==e&&(le.current.width=pe*te,le.current.height=ce*te,e.scale(te,te),e.fillStyle=he.background,e.fillRect(0,0,pe,ce),e.translate(se.left,se.top),ve.forEach((function(t){e.fillStyle=t.color,e.fillRect(t.x,t.y,t.width,t.height),I>0&&(e.strokeStyle=t.borderColor,e.lineWidth=I,e.strokeRect(t.x,t.y,t.width,t.height))})),D&&(e.textAlign="center",e.textBaseline="middle",u.setCanvasFont(e,he.labels.text),ve.forEach((function(o){if(o.isLeaf&&(0===J||Math.min(o.width,o.height)>J)){var n=N&&o.height>o.width;e.save(),e.translate(o.x+o.width/2,o.y+o.height/2),e.rotate(t.degreesToRadians(n?-90:0)),u.drawCanvasText(e,p({},he.labels.text,{fill:o.labelTextColor}),String(o.label)),e.restore()}}))))}}),[le,ve,pe,ce,ue,be,se,I,D,N,J,he,te]);var fe=d.useTooltip(),me=fe.showTooltipFromEvent,ge=fe.hideTooltip,Le=e.useCallback((function(o){if(null!==le.current){var n=t.getRelativeCursor(le.current,o),i=n[0],a=n[1],r=V(ve,se,i,a);void 0!==r?(me(e.createElement(_,{node:r}),o,"left"),null==U||U(r,o)):ge()}}),[le,ve,se,me,ge,_,U]),ye=e.useCallback((function(){ge()}),[ge]),xe=e.useCallback((function(e){if(null!==le.current){var o=t.getRelativeCursor(le.current,e),n=o[0],i=o[1],a=V(ve,se,n,i);void 0!==a&&(null==Z||Z(a,e))}}),[le,ve,se,Z]);return b.jsx("canvas",{ref:t.mergeRefs(le,re),width:pe*te,height:ce*te,style:{width:pe,height:ce},onMouseEnter:Q?Le:void 0,onMouseMove:Q?Le:void 0,onMouseLeave:Q?ye:void 0,onClick:Q?xe:void 0,role:oe,"aria-label":ne,"aria-labelledby":ie,"aria-describedby":ae})},G=e.forwardRef((function(e,o){var n=e.theme,i=e.isInteractive,a=void 0===i?w.isInteractive:i,r=e.animate,l=void 0===r?w.animate:r,d=e.motionConfig,s=void 0===d?w.motionConfig:d,u=e.renderWrapper,v=c(e,A);return b.jsx(t.Container,{isInteractive:a,animate:l,motionConfig:s,theme:n,renderWrapper:u,children:b.jsx(N,p({},v,{isInteractive:a,forwardedRef:o}))})})),J=["defaultWidth","defaultHeight","onResize","debounceResize"],K=e.forwardRef((function(e,o){var n=e.defaultWidth,i=e.defaultHeight,a=e.onResize,r=e.debounceResize,l=c(e,J);return b.jsx(t.ResponsiveWrapper,{defaultWidth:n,defaultHeight:i,onResize:a,debounceResize:r,children:function(e){var t=e.width,n=e.height;return b.jsx(G,p({},l,{width:t,height:n,ref:o}))}})}));exports.ResponsiveTreeMap=H,exports.ResponsiveTreeMapCanvas=K,exports.ResponsiveTreeMapHtml=Y,exports.TreeMap=E,exports.TreeMapCanvas=G,exports.TreeMapHtml=F,exports.canvasDefaultProps=w,exports.commonDefaultProps=C,exports.htmlDefaultProps=M,exports.htmlLabelTransform=m,exports.htmlNodeTransform=h,exports.htmlParentLabelTransform=g,exports.svgDefaultProps=P,exports.svgLabelTransform=f,exports.svgNodeTransform=v,exports.tileByType=R;
//# sourceMappingURL=nivo-treemap.cjs.js.map
