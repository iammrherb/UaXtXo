import type { ReportTemplate, ReportSection, DataSource } from "@/types/report-builder"

export const availableDataSources: DataSource[] = [
  {
    id: "vendorRiskScores",
    name: "Vendor Risk Scores",
    description: "Risk assessment scores for all vendors",
    category: "risk",
    fields: [
      { id: "vendorId", name: "Vendor ID", type: "string" },
      { id: "vendorName", name: "Vendor Name", type: "string" },
      { id: "riskScore", name: "Risk Score", type: "number" },
      { id: "riskLevel", name: "Risk Level", type: "string" },
      { id: "complianceGaps", name: "Compliance Gaps", type: "number" },
      { id: "lastAssessed", name: "Last Assessed", type: "date" },
    ],
  },
  {
    id: "complianceGaps",
    name: "Compliance Gaps",
    description: "Detailed compliance gap analysis",
    category: "compliance",
    fields: [
      { id: "standardId", name: "Standard ID", type: "string" },
      { id: "standardName", name: "Standard Name", type: "string" },
      { id: "requirementId", name: "Requirement ID", type: "string" },
      { id: "requirementName", name: "Requirement Name", type: "string" },
      { id: "currentCoverage", name: "Current Coverage", type: "string" },
      { id: "riskScore", name: "Risk Score", type: "number" },
      { id: "businessImpact", name: "Business Impact", type: "string" },
      { id: "remediationCost", name: "Remediation Cost", type: "number" },
    ],
  },
  {
    id: "costRiskData",
    name: "Cost Risk Analysis",
    description: "Financial risk and cost analysis data",
    category: "financial",
    fields: [
      { id: "vendorId", name: "Vendor ID", type: "string" },
      { id: "vendorName", name: "Vendor Name", type: "string" },
      { id: "nonComplianceCost", name: "Non-Compliance Cost", type: "number" },
      { id: "remediationCost", name: "Remediation Cost", type: "number" },
      { id: "potentialSavings", name: "Potential Savings", type: "number" },
      { id: "roi", name: "Return on Investment", type: "number" },
    ],
  },
  {
    id: "aiInsights",
    name: "AI-Generated Insights",
    description: "Insights generated by AI analysis",
    category: "operational",
    fields: [
      { id: "insightId", name: "Insight ID", type: "string" },
      { id: "type", name: "Insight Type", type: "string" },
      { id: "title", name: "Title", type: "string" },
      { id: "summary", name: "Summary", type: "string" },
      { id: "confidence", name: "Confidence", type: "number" },
      { id: "priority", name: "Priority", type: "string" },
      { id: "potentialImpact", name: "Potential Impact", type: "number" },
    ],
  },
  {
    id: "recommendations",
    name: "Smart Recommendations",
    description: "AI-generated recommendations",
    category: "operational",
    fields: [
      { id: "recommendationId", name: "Recommendation ID", type: "string" },
      { id: "category", name: "Category", type: "string" },
      { id: "title", name: "Title", type: "string" },
      { id: "description", name: "Description", type: "string" },
      { id: "estimatedCost", name: "Estimated Cost", type: "number" },
      { id: "estimatedSavings", name: "Estimated Savings", type: "number" },
      { id: "confidence", name: "Confidence", type: "number" },
      { id: "riskLevel", name: "Risk Level", type: "string" },
    ],
  },
]

export const defaultReportSections: Record<string, Omit<ReportSection, "id" | "position">> = {
  summary: {
    type: "summary",
    title: "Executive Summary",
    description: "High-level overview of key findings and recommendations",
    size: { width: 12, height: 6 },
    config: {
      content: "This section provides an executive summary of the vendor risk assessment.",
      format: "markdown",
      fontSize: "medium",
      alignment: "left",
    } as any,
    isVisible: true,
  },
  vendorRiskChart: {
    type: "chart",
    title: "Vendor Risk Comparison",
    description: "Visual comparison of risk scores across vendors",
    size: { width: 8, height: 6 },
    config: {
      chartType: "bar",
      dataSource: "vendorRiskScores",
      xAxis: "vendorName",
      yAxis: "riskScore",
      showLegend: true,
      showGrid: true,
      colors: ["#3B82F6", "#EF4444", "#F59E0B", "#10B981"],
    },
    isVisible: true,
  },
  riskDistribution: {
    type: "chart",
    title: "Risk Level Distribution",
    description: "Distribution of vendors by risk level",
    size: { width: 4, height: 6 },
    config: {
      chartType: "pie",
      dataSource: "vendorRiskScores",
      groupBy: "riskLevel",
      aggregation: "count",
      showLegend: true,
      showGrid: false,
      colors: ["#22C55E", "#EAB308", "#F97316", "#EF4444"],
    },
    isVisible: true,
  },
  complianceTable: {
    type: "table",
    title: "Compliance Gaps Summary",
    description: "Detailed table of compliance gaps and remediation costs",
    size: { width: 12, height: 8 },
    config: {
      dataSource: "complianceGaps",
      columns: ["standardName", "requirementName", "riskScore", "businessImpact", "remediationCost"],
      sortBy: "riskScore",
      sortOrder: "desc",
      showPagination: true,
      pageSize: 10,
      showSearch: true,
      exportable: true,
    },
    isVisible: true,
  },
  keyMetrics: {
    type: "metrics",
    title: "Key Risk Metrics",
    description: "Important metrics and KPIs",
    size: { width: 12, height: 4 },
    config: {
      metrics: ["avgRiskScore", "totalGaps", "avgCostRisk", "highRiskVendors"],
      layout: "horizontal",
      showTrends: true,
      showComparisons: true,
      timeframe: "current",
    },
    isVisible: true,
  },
  recommendations: {
    type: "recommendations",
    title: "AI-Generated Recommendations",
    description: "Smart recommendations based on risk analysis",
    size: { width: 12, height: 8 },
    config: {
      source: "ai",
      categories: ["security", "compliance", "cost", "operational"],
      priorityFilter: "all",
      maxItems: 10,
      showImplementationSteps: true,
      showCostBenefit: true,
    },
    isVisible: true,
  },
  complianceGaps: {
    type: "gaps",
    title: "Compliance Gap Analysis",
    description: "Detailed analysis of compliance gaps by standard",
    size: { width: 12, height: 10 },
    config: {
      riskLevelFilter: "all",
      maxItems: 20,
      showRemediationCost: true,
      showTimeline: true,
      groupByStandard: true,
    },
    isVisible: true,
  },
  trendAnalysis: {
    type: "chart",
    title: "Risk Trend Analysis",
    description: "Historical trend analysis of risk metrics",
    size: { width: 12, height: 6 },
    config: {
      chartType: "line",
      dataSource: "vendorRiskScores",
      xAxis: "lastAssessed",
      yAxis: "riskScore",
      groupBy: "vendorName",
      showLegend: true,
      showGrid: true,
      colors: ["#3B82F6", "#EF4444", "#F59E0B", "#10B981", "#8B5CF6"],
    },
    isVisible: true,
  },
}

export const defaultTemplates: ReportTemplate[] = [
  {
    id: "executive-summary",
    name: "Executive Summary Report",
    description: "High-level executive summary with key findings and recommendations",
    category: "executive",
    layout: "single-column",
    theme: "corporate",
    sections: [
      {
        ...defaultReportSections.summary,
        id: "exec-summary-1",
        position: { x: 0, y: 0 },
      },
      {
        ...defaultReportSections.keyMetrics,
        id: "exec-metrics-1",
        position: { x: 0, y: 6 },
      },
      {
        ...defaultReportSections.vendorRiskChart,
        id: "exec-chart-1",
        position: { x: 0, y: 10 },
        size: { width: 12, height: 6 },
      },
      {
        ...defaultReportSections.recommendations,
        id: "exec-recs-1",
        position: { x: 0, y: 16 },
        config: {
          ...defaultReportSections.recommendations.config,
          maxItems: 5,
          priorityFilter: "high",
        },
      },
    ],
    createdAt: new Date().toISOString(),
    updatedAt: new Date().toISOString(),
    tags: ["executive", "summary", "high-level"],
  },
  {
    id: "detailed-analysis",
    name: "Detailed Technical Analysis",
    description: "Comprehensive technical analysis with detailed charts and tables",
    category: "technical",
    layout: "two-column",
    theme: "modern",
    sections: [
      {
        ...defaultReportSections.summary,
        id: "detail-summary-1",
        position: { x: 0, y: 0 },
      },
      {
        ...defaultReportSections.vendorRiskChart,
        id: "detail-chart-1",
        position: { x: 0, y: 6 },
      },
      {
        ...defaultReportSections.riskDistribution,
        id: "detail-pie-1",
        position: { x: 8, y: 6 },
      },
      {
        ...defaultReportSections.complianceTable,
        id: "detail-table-1",
        position: { x: 0, y: 12 },
      },
      {
        ...defaultReportSections.trendAnalysis,
        id: "detail-trend-1",
        position: { x: 0, y: 20 },
      },
      {
        ...defaultReportSections.recommendations,
        id: "detail-recs-1",
        position: { x: 0, y: 26 },
      },
    ],
    createdAt: new Date().toISOString(),
    updatedAt: new Date().toISOString(),
    tags: ["technical", "detailed", "comprehensive"],
  },
  {
    id: "compliance-focused",
    name: "Compliance Risk Assessment",
    description: "Focused on compliance gaps, risks, and remediation strategies",
    category: "compliance",
    layout: "grid",
    theme: "light",
    sections: [
      {
        ...defaultReportSections.summary,
        id: "comp-summary-1",
        position: { x: 0, y: 0 },
        title: "Compliance Risk Overview",
        description: "Overview of compliance posture and key risks",
      },
      {
        ...defaultReportSections.keyMetrics,
        id: "comp-metrics-1",
        position: { x: 0, y: 6 },
        config: {
          ...defaultReportSections.keyMetrics.config,
          metrics: ["totalGaps", "avgCostRisk", "criticalGaps", "complianceCoverage"],
        },
      },
      {
        ...defaultReportSections.complianceGaps,
        id: "comp-gaps-1",
        position: { x: 0, y: 10 },
      },
      {
        ...defaultReportSections.complianceTable,
        id: "comp-table-1",
        position: { x: 0, y: 20 },
      },
      {
        ...defaultReportSections.recommendations,
        id: "comp-recs-1",
        position: { x: 0, y: 28 },
        config: {
          ...defaultReportSections.recommendations.config,
          categories: ["compliance", "security"],
          priorityFilter: "high",
        },
      },
    ],
    createdAt: new Date().toISOString(),
    updatedAt: new Date().toISOString(),
    tags: ["compliance", "risk", "regulatory"],
  },
  {
    id: "ai-insights-report",
    name: "AI-Powered Insights Report",
    description: "Comprehensive report featuring AI-generated insights and recommendations",
    category: "custom",
    layout: "single-column",
    theme: "dark",
    sections: [
      {
        ...defaultReportSections.summary,
        id: "ai-summary-1",
        position: { x: 0, y: 0 },
        title: "AI-Generated Executive Summary",
        description: "Executive summary powered by artificial intelligence",
      },
      {
        ...defaultReportSections.keyMetrics,
        id: "ai-metrics-1",
        position: { x: 0, y: 6 },
      },
      {
        ...defaultReportSections.vendorRiskChart,
        id: "ai-chart-1",
        position: { x: 0, y: 10 },
        size: { width: 8, height: 6 },
      },
      {
        ...defaultReportSections.riskDistribution,
        id: "ai-pie-1",
        position: { x: 8, y: 10 },
        size: { width: 4, height: 6 },
      },
      {
        ...defaultReportSections.recommendations,
        id: "ai-recs-1",
        position: { x: 0, y: 16 },
        title: "AI-Powered Recommendations",
        description: "Smart recommendations generated by AI analysis",
      },
      {
        ...defaultReportSections.complianceGaps,
        id: "ai-gaps-1",
        position: { x: 0, y: 24 },
        title: "AI-Identified Compliance Gaps",
      },
      {
        ...defaultReportSections.trendAnalysis,
        id: "ai-trend-1",
        position: { x: 0, y: 34 },
        title: "Predictive Risk Analysis",
      },
    ],
    createdAt: new Date().toISOString(),
    updatedAt: new Date().toISOString(),
    tags: ["ai", "insights", "predictive", "smart"],
  },
]

export const sectionCategories = [
  {
    id: "content",
    name: "Content",
    description: "Text and summary sections",
    sections: ["summary", "text"],
  },
  {
    id: "visualizations",
    name: "Charts & Visualizations",
    description: "Charts, graphs, and visual data representations",
    sections: ["vendorRiskChart", "riskDistribution", "trendAnalysis"],
  },
  {
    id: "data",
    name: "Data Tables",
    description: "Structured data tables and lists",
    sections: ["complianceTable"],
  },
  {
    id: "metrics",
    name: "Metrics & KPIs",
    description: "Key performance indicators and metrics",
    sections: ["keyMetrics"],
  },
  {
    id: "ai",
    name: "AI-Powered",
    description: "AI-generated insights and recommendations",
    sections: ["recommendations", "complianceGaps"],
  },
]

export const templateCategories = [
  {
    id: "executive",
    name: "Executive Reports",
    description: "High-level summaries for leadership",
    icon: "👔",
  },
  {
    id: "technical",
    name: "Technical Analysis",
    description: "Detailed technical assessments",
    icon: "🔧",
  },
  {
    id: "compliance",
    name: "Compliance Reports",
    description: "Regulatory and compliance focused",
    icon: "📋",
  },
  {
    id: "custom",
    name: "Custom Reports",
    description: "Tailored and specialized reports",
    icon: "⚙️",
  },
]
