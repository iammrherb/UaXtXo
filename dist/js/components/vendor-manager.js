class VendorManager{constructor(){this.config=window.TCAConfig||{};this.selectedVendors=["portnox"];this.initialized=false}init(){console.log("Initializing Vendor Manager...");this.createVendorCards();this.setupEventListeners();this.initialized=true;return this}createVendorCards(){const vendorGrid=document.getElementById("vendor-select-grid");if(!vendorGrid){console.error("Vendor grid not found");return}vendorGrid.innerHTML="";Object.keys(this.config.vendors).forEach(vendorId=>{const vendor=this.config.vendors[vendorId];const card=document.createElement("div");card.className="vendor-select-card";card.dataset.vendor=vendorId;if(vendorId==="portnox"){card.classList.add("selected")}const logoContainer=document.createElement("div");logoContainer.className="vendor-logo";const logo=document.createElement("img");logo.src=vendor.logo;logo.alt=vendor.name;logo.onerror=function(){this.style.display="none";logoContainer.innerHTML=`<span>${vendor.shortName}</span>`};logoContainer.appendChild(logo);const name=document.createElement("div");name.className="vendor-name";name.textContent=vendor.name;card.appendChild(logoContainer);card.appendChild(name);vendorGrid.appendChild(card)})}setupEventListeners(){const vendorCards=document.querySelectorAll(".vendor-select-card");vendorCards.forEach(card=>{card.addEventListener("click",()=>{this.toggleVendorSelection(card.dataset.vendor,card)})})}toggleVendorSelection(vendorId,card){if(vendorId==="portnox"){if(!this.selectedVendors.includes(vendorId)){this.selectedVendors.push(vendorId);card.classList.add("selected")}return}if(this.selectedVendors.includes(vendorId)){this.selectedVendors=this.selectedVendors.filter(id=>id!==vendorId);card.classList.remove("selected")}else{if(this.selectedVendors.length>=3){alert("You can select a maximum of 3 vendors to compare");return}this.selectedVendors.push(vendorId);card.classList.add("selected")}this.updateVendorCounter();this.triggerVendorSelectionChange()}updateVendorCounter(){const counterElement=document.getElementById("vendor-counter-value");if(counterElement){counterElement.textContent=this.selectedVendors.length}}triggerVendorSelectionChange(){const event=new CustomEvent("vendorSelectionChange",{detail:{selectedVendors:this.selectedVendors}});document.dispatchEvent(event)}getSelectedVendors(){return this.selectedVendors}}document.addEventListener("DOMContentLoaded",function(){window.vendorManager=new VendorManager;window.vendorManager.init()});