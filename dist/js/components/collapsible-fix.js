document.addEventListener("DOMContentLoaded",function(){console.log("Initializing collapsible sections fix...");setTimeout(fixCollapsibleSections,500)});function fixCollapsibleSections(){const configCards=document.querySelectorAll(".config-card");if(!configCards||configCards.length===0){console.warn("No config cards found, will try again in 1 second");setTimeout(fixCollapsibleSections,1e3);return}console.log(`Found ${configCards.length} config cards, applying fixes`);configCards.forEach((card,index)=>{const header=card.querySelector(".config-card-header");const content=card.querySelector(".config-card-content");const toggleIcon=header?header.querySelector(".toggle-icon"):null;if(!header||!content){console.warn(`Config card ${index} is missing header or content, skipping`);return}const newHeader=header.cloneNode(true);header.parentNode.replaceChild(newHeader,header);content.style.transition="max-height 0.35s ease-in-out, opacity 0.35s ease-in-out, padding 0.35s ease-in-out";if(content.classList.contains("collapsed")){content.style.maxHeight="0px";content.style.opacity="0";content.style.paddingTop="0";content.style.paddingBottom="0";const newToggleIcon=newHeader.querySelector(".toggle-icon");if(newToggleIcon)newToggleIcon.classList.add("collapsed")}else{content.style.maxHeight="none";content.style.opacity="1";content.style.paddingTop="";content.style.paddingBottom=""}newHeader.addEventListener("click",function(){const content=card.querySelector(".config-card-content");const toggleIcon=newHeader.querySelector(".toggle-icon");console.log(`Toggling config card ${index} - ${card.id||"unknown"}`);if(content.classList.contains("collapsed")){content.classList.remove("collapsed");if(toggleIcon)toggleIcon.classList.remove("collapsed");content.style.maxHeight="0px";content.style.opacity="0";content.offsetHeight;content.style.maxHeight="1000px";content.style.opacity="1";content.style.paddingTop="";content.style.paddingBottom="";setTimeout(()=>{content.style.maxHeight="none"},350)}else{content.style.maxHeight=content.scrollHeight+"px";content.offsetHeight;content.style.maxHeight="0px";content.style.opacity="0";content.style.paddingTop="0";content.style.paddingBottom="0";setTimeout(()=>{content.classList.add("collapsed");if(toggleIcon)toggleIcon.classList.add("collapsed")},350)}});console.log(`Fixed toggle functionality for card ${index} - ${card.id||"unknown"}`)});console.log("Collapsible section fixes applied successfully")}window.toggleCollapsibleSection=function(cardId){const card=document.getElementById(cardId);if(!card)return false;const header=card.querySelector(".config-card-header");if(header){header.click();return true}return false};