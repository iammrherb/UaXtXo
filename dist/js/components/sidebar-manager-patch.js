document.addEventListener("DOMContentLoaded",function(){console.log("Applying sidebar manager patch...");setTimeout(patchSidebarManager,500)});function patchSidebarManager(){console.log("Patching sidebar manager...");if(window.sidebarManager===undefined){window.sidebarManager={}}window.sidebarManager.getSelectedVendors=function(){const selectedCards=document.querySelectorAll(".vendor-select-card.selected");const vendors=[];selectedCards.forEach(card=>{const vendorId=card.getAttribute("data-vendor");if(vendorId){vendors.push(vendorId)}});if(!vendors.includes("portnox")){vendors.unshift("portnox");const portnoxCard=document.querySelector('.vendor-select-card[data-vendor="portnox"]');if(portnoxCard&&!portnoxCard.classList.contains("selected")){portnoxCard.classList.add("selected");const counterElement=document.getElementById("vendor-counter-value");if(counterElement){const count=document.querySelectorAll(".vendor-select-card.selected").length;counterElement.textContent=count}}}console.log("Selected vendors:",vendors);return vendors};const vendorCards=document.querySelectorAll(".vendor-select-card");vendorCards.forEach(card=>{if(card.getAttribute("data-vendor")==="portnox"&&!card.classList.contains("selected")){card.classList.add("selected")}const newCard=card.cloneNode(true);card.parentNode.replaceChild(newCard,card);newCard.addEventListener("click",function(){const vendorId=this.getAttribute("data-vendor");console.log(`Toggling vendor: ${vendorId}`);if(vendorId==="portnox"&&this.classList.contains("selected")){console.log("Cannot deselect Portnox (locked vendor)");return}if(this.classList.contains("selected")){this.classList.remove("selected")}else{const selectedCount=document.querySelectorAll(".vendor-select-card.selected").length;if(selectedCount>=3){alert("You can select a maximum of 3 vendors to compare");return}this.classList.add("selected")}const counterElement=document.getElementById("vendor-counter-value");if(counterElement){const count=document.querySelectorAll(".vendor-select-card.selected").length;counterElement.textContent=count}})});const sidebarToggle=document.getElementById("sidebar-toggle");if(sidebarToggle){const sidebar=document.getElementById("sidebar");const contentArea=document.querySelector(".content-area");if(sidebar&&contentArea){const newToggle=sidebarToggle.cloneNode(true);sidebarToggle.parentNode.replaceChild(newToggle,sidebarToggle);newToggle.addEventListener("click",function(){sidebar.classList.toggle("collapsed");this.classList.toggle("collapsed");contentArea.classList.toggle("expanded");console.log("Sidebar toggle clicked")})}}console.log("Sidebar manager patched successfully")}