class SidebarManager{constructor(){this.sidebar=null;this.sidebarToggle=null;this.sidebarClose=null;this.initialized=false}init(){console.log("Initializing Sidebar Manager...");this.sidebar=document.getElementById("sidebar");this.sidebarToggle=document.getElementById("sidebar-toggle");this.sidebarClose=document.getElementById("sidebar-close");if(!this.sidebar||!this.sidebarToggle){console.error("Sidebar elements not found");return false}this.setupSidebarToggle();this.setupConfigCards();this.setupRangeSliders();this.initialized=true;return true}setupSidebarToggle(){this.sidebarToggle.addEventListener("click",()=>{this.toggleSidebar()});if(this.sidebarClose){this.sidebarClose.addEventListener("click",()=>{this.sidebar.classList.add("collapsed")})}document.addEventListener("click",event=>{if(!this.sidebar.contains(event.target)&&!this.sidebarToggle.contains(event.target)&&window.innerWidth<=768&&!this.sidebar.classList.contains("collapsed")){this.sidebar.classList.add("collapsed")}})}toggleSidebar(){this.sidebar.classList.toggle("collapsed")}setupConfigCards(){const configCards=document.querySelectorAll(".config-card");configCards.forEach(card=>{const header=card.querySelector(".config-card-header");const content=card.querySelector(".config-card-content");const toggleIcon=card.querySelector(".toggle-icon");if(!header||!content)return;content.style.transition="max-height 0.3s ease, opacity 0.3s ease, padding 0.3s ease";header.addEventListener("click",()=>{this.toggleConfigCard(content,toggleIcon)})})}toggleConfigCard(content,toggleIcon){if(content.classList.contains("collapsed")){content.classList.remove("collapsed");if(toggleIcon)toggleIcon.classList.remove("collapsed");content.style.maxHeight="0px";content.offsetHeight;content.style.maxHeight=content.scrollHeight+"px";content.style.paddingTop="";content.style.paddingBottom="";content.style.opacity="1";setTimeout(()=>{content.style.maxHeight=""},300)}else{content.style.maxHeight=content.scrollHeight+"px";content.offsetHeight;content.style.maxHeight="0px";content.style.paddingTop="0";content.style.paddingBottom="0";content.style.opacity="0";setTimeout(()=>{content.classList.add("collapsed");if(toggleIcon)toggleIcon.classList.add("collapsed")},300)}}setupRangeSliders(){const rangeSliders=document.querySelectorAll('input[type="range"]');rangeSliders.forEach(slider=>{const valueId=`${slider.id}-value`;const valueDisplay=document.getElementById(valueId);if(valueDisplay){this.updateRangeSliderValue(slider,valueDisplay)}this.updateRangeSliderBackground(slider);slider.addEventListener("input",()=>{if(valueDisplay){this.updateRangeSliderValue(slider,valueDisplay)}this.updateRangeSliderBackground(slider);const event=new CustomEvent("configValueChange",{detail:{id:slider.id,value:slider.value}});document.dispatchEvent(event)})})}updateRangeSliderValue(slider,valueDisplay){const value=slider.value;if(slider.id==="license-cost"||slider.id==="hardware-cost"){valueDisplay.textContent=`$${parseInt(value).toLocaleString()}`}else if(slider.id==="implementation-cost"||slider.id==="fte-cost"){valueDisplay.textContent=`$${parseInt(value).toLocaleString()}`}else if(slider.id.includes("percentage")){valueDisplay.textContent=`${value}%`}else{valueDisplay.textContent=value}}updateRangeSliderBackground(slider){const min=parseFloat(slider.min);const max=parseFloat(slider.max);const value=parseFloat(slider.value);const percentage=(value-min)/(max-min)*100;slider.style.background=`linear-gradient(to right, var(--primary) 0%, var(--primary) ${percentage}%, var(--border-light) ${percentage}%, var(--border-light) 100%)`}}document.addEventListener("DOMContentLoaded",function(){window.sidebarManager=new SidebarManager;window.sidebarManager.init()});